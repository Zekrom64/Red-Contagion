package com.redcontagion.world.voxel;

public abstract class Block {

	public static final int MAX_BLOCKS = 65535;
	private static Block[] blocks = new Block[MAX_BLOCKS];
	private static int nextBlock = 0;
	
	public static Block getBlock(int id) {
		if (id <= 0) return null;
		return blocks[id];
	}
	
	public static Block getBlock(String unlocName) {
		for(Block b : blocks) {
			if (b.UNLOCALIZED_NAME.equals(unlocName)) return b;
		}
		return null;
	}
	
	public final int BLOCK_ID;
	public final String UNLOCALIZED_NAME;
	
	public Block(String unlocName) {
		if (unlocName==null) throw new IllegalArgumentException("Block cannot have null unlocalized name");
		UNLOCALIZED_NAME = unlocName;
		if (nextBlock==MAX_BLOCKS + 1) throw new IllegalStateException("Out of block IDs");
		blocks[nextBlock++] = this;
		BLOCK_ID = nextBlock;
	}
	
}
